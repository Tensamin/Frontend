"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[670],{7881:(t,e,r)=>{r.d(e,{p:()=>i});var a=r(95155);r(12115);var n=r(25384);function i(t){let{className:e,type:r,...i}=t;return(0,a.jsx)("input",{type:r,"data-slot":"input",className:(0,n.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...i})}},21731:(t,e,r)=>{r.d(e,{J:()=>o});var a=r(95155);r(12115);var n=r(40968),i=r(25384);function o(t){let{className:e,...r}=t;return(0,a.jsx)(n.b,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...r})}},48288:(t,e,r)=>{r.d(e,{w:()=>o});var a=r(95155);r(12115);var n=r(87489),i=r(25384);function o(t){let{className:e,orientation:r="horizontal",decorative:o=!0,...s}=t;return(0,a.jsx)(n.b,{"data-slot":"separator",decorative:o,orientation:r,className:(0,i.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...s})}},53613:(t,e,r)=>{r.d(e,{w:()=>c,x:()=>u});var a=r(95155),n=r(12115),i=r(54921),o=r(25384),s=r(76708),l=r(44134).Buffer;let d=(0,n.createContext)();function c(){let t=(0,n.useContext)(d);if(void 0===t)throw Error("useEncryptionContext must be used within a EncryptionProvider");return t}function u(t){let{children:e}=t,[c,u]=(0,n.useState)(null),[f,p]=(0,n.useState)(!1),h=(0,n.useRef)(new Map);(0,n.useEffect)(()=>{if(window.Worker){let t=new Worker("/encryption.js");return t.onmessage=t=>{let{result:e,error:r,id:a}=t.data;if(h.current.has(a)){let{resolve:t,reject:n}=h.current.get(a);r?n(Error(r)):t(e),h.current.delete(a)}},u(t),(0,o.Rm)("Encryption worker initialized and started.","debug","Encryption Provider:"),()=>{h.current.forEach(t=>{let{reject:e}=t;e(Error("EncryptionProvider unmounted."))}),t.terminate(),(0,o.Rm)("Encryption worker terminated.","debug","Encryption Provider:")}}p(!0)},[]);let g=(0,n.useCallback)(t=>c?new Promise((e,r)=>{let a=(0,i.A)(),n=setTimeout(()=>{h.current.has(a)&&(r(Error("Request to encryption worker timed out.")),h.current.delete(a))},1e4);h.current.set(a,{resolve:t=>{clearTimeout(n),e(t)},reject:t=>{clearTimeout(n),r(t)}}),c.postMessage({...t,id:a})}):Promise.reject(Error("Worker is not initialized.")),[c]),b=(0,n.useCallback)(async(t,e)=>await g({type:"encrypt_base64_using_aes",data:t,key:e}),[g]),m=(0,n.useCallback)(async(t,e)=>await g({type:"decrypt_base64_using_aes",data:t,key:e}),[g]);async function w(t,e){function a(t){return Array.from(t).map(t=>t.toString(16).padStart(2,"0")).join("")}function n(){return"function"==typeof atob&&"function"==typeof btoa}function i(t){if(n()){let e=atob(t),r=new Uint8Array(e.length);for(let t=0;t<e.length;t++)r[t]=e.charCodeAt(t);return r}return new Uint8Array(l.from(t,"base64"))}function o(t){return i(t.replace(/-/g,"+").replace(/_/g,"/")+"===".slice((t.length+3)%4))}function s(t){let e;if(n()){let r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);e=btoa(r)}else e=l.from(t).toString("base64");return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/g,"")}function d(t){return/[-_]/.test(t)?o(t):i(t)}function c(t,e){let r=t[e++];if(e>=t.length)throw Error("DER: truncated");let a=t[e++];if(128&a){let r=127&a;if(0===r)throw Error("DER: indefinite length not supported");if(e+r>t.length)throw Error("DER: truncated length");a=0;for(let n=0;n<r;n++)a=a<<8|t[e++]}let n=e,i=e+a;if(i>t.length)throw Error("DER: content truncated");return{tag:r,len:a,start:n,end:i}}function u(t,e){let r=c(t,e);return 6===r.tag&&3==r.end-r.start&&43===t[r.start]&&101===t[r.start+1]&&111===t[r.start+2]}function f(t,e){if(!t||"OKP"!==t.kty||"X448"!==t.crv)throw Error("".concat(e,': expected OKP JWK with crv "X448"'));let r={...t};if(r.x){let t,a=d(r.x);try{t=function(t){let e=c(t,0);if(48!==e.tag)throw Error("SPKI: expected SEQUENCE");let r=c(t,e.start);if(48!==r.tag)throw Error("SPKI: expected AlgorithmIdentifier");if(!u(t,r.start))throw Error("SPKI: not X448");let a=c(t,r.end);if(3!==a.tag)throw Error("SPKI: expected BIT STRING");if(0!==t[a.start])throw Error("SPKI: unexpected unused bits");let n=t.subarray(a.start+1,a.end);if(56!==n.length)throw Error("SPKI: X448 public key must be 56 bytes");return n}(a)}catch(r){if(56!==a.length)throw Error("".concat(e,': "x" is not a valid X448 SPKI or raw 56-byte key'));t=a}r.x=s(t)}if(r.d){let t,a=d(r.d);try{t=function(t){let e=c(t,0);if(48!==e.tag)throw Error("PKCS8: expected SEQUENCE");let r=e.start,a=c(t,r);if(2!==a.tag)throw Error("PKCS8: expected version INTEGER");let n=c(t,r=a.end);if(48!==n.tag)throw Error("PKCS8: expected AlgorithmIdentifier");if(!u(t,n.start))throw Error("PKCS8: not X448");let i=c(t,r=n.end);if(4!==i.tag)throw Error("PKCS8: expected privateKey OCTET STRING");let o=t.subarray(i.start,i.end);if(4===o[0]){let t=c(o,0);4===t.tag&&(o=o.subarray(t.start,t.end))}if(56!==o.length)throw Error("PKCS8: X448 private key must be 56 bytes");return o}(a)}catch(r){if(56!==a.length)throw Error("".concat(e,': "d" is not a valid X448 PKCS#8 or raw 56-byte key'));t=a}r.d=s(t)}return r}function p(){if(globalThis.crypto&&globalThis.crypto.subtle)return globalThis.crypto.subtle;try{var t;let e=r(8777);if(null==e||null==(t=e.webcrypto)?void 0:t.subtle)return e.webcrypto.subtle}catch(t){}}async function h(t,e){let r=p();if(!r)throw Error("WebCrypto subtle not available");let a=new TextEncoder().encode(e),n=await r.importKey("raw",t,"HKDF",!1,["deriveKey"]);return await r.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(0),info:a},n,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}let g=f(t,"own_jwk"),b=f({kty:"OKP",crv:"X448",x:e},"other_jwk");if(!g.d||!g.x)throw Error('own_jwk must contain both "d" (private) and "x" (public)');if(!b.x)throw Error('other_jwk must contain "x" (public)');let m=p(),w="ECDH-X448-AES-GCM-v1|my=".concat(g.x,"|peer=").concat(b.x);if(m){try{let t=await m.importKey("jwk",g,{name:"ECDH",namedCurve:"X448"},!1,["deriveBits"]),e=await m.importKey("jwk",b,{name:"ECDH",namedCurve:"X448"},!1,[]),r=await m.deriveBits({name:"ECDH",public:e},t,448),n=new Uint8Array(r);return{aeadKey:await h(n,w),sharedSecret:n,sharedSecretHex:a(n),backend:"webcrypto-ecdh"}}catch(t){}try{let t=await m.importKey("jwk",g,{name:"X448"},!1,["deriveBits"]),e=await m.importKey("jwk",b,{name:"X448"},!1,[]),r=await m.deriveBits({name:"X448",public:e},t,448),n=new Uint8Array(r);return{aeadKey:await h(n,w),sharedSecret:n,sharedSecretHex:a(n),backend:"webcrypto-x448"}}catch(t){}}let{x:x,d:y}=g,{x:v}=b,E=o(y),k=o(v);if(56!==E.length||56!==k.length)throw Error("Invalid X448 key lengths after normalization");let{x448:j}=await r.e(642).then(r.bind(r,12642)),_=j.getSharedSecret(E,k);return{aeadKey:await h(_,w),sharedSecret:_,sharedSecretHex:a(_),backend:"noble-x448"}}return f?(0,a.jsx)(s.Loading,{message:"This Browser is unsupported",error:!0}):c?(0,a.jsx)(d.Provider,{value:{encrypt_base64_using_aes:b,decrypt_base64_using_aes:m,get_shared_secret:w},children:e}):(0,a.jsx)(s.Loading,{message:"Initializing encryption worker..."})}},54765:(t,e,r)=>{r.d(e,{Wu:()=>d,X9:()=>l,ZB:()=>s,Zp:()=>i,aR:()=>o,wL:()=>c});var a=r(95155);r(12115);var n=r(25384);function i(t){let{className:e,...r}=t;return(0,a.jsx)("div",{"data-slot":"card",className:(0,n.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...r})}function o(t){let{className:e,...r}=t;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,n.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...r})}function s(t){let{className:e,...r}=t;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,n.cn)("leading-none font-semibold",e),...r})}function l(t){let{className:e,...r}=t;return(0,a.jsx)("div",{"data-slot":"card-action",className:(0,n.cn)("col-start-2 row-span-2 row-start-1 self-start justify-self-end",e),...r})}function d(t){let{className:e,...r}=t;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,n.cn)("px-6",e),...r})}function c(t){let{className:e,...r}=t;return(0,a.jsx)("div",{"data-slot":"card-footer",className:(0,n.cn)("flex items-center px-6 [.border-t]:pt-6",e),...r})}},57580:(t,e,r)=>{r.d(e,{S:()=>s});var a=r(95155);r(12115);var n=r(76981),i=r(5196),o=r(25384);function s(t){let{className:e,...r}=t;return(0,a.jsx)(n.bL,{"data-slot":"checkbox",className:(0,o.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:(0,a.jsx)(n.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,a.jsx)(i.A,{className:"size-3.5"})})})}},58516:(t,e,r)=>{r.d(e,{Bc:()=>o,ZI:()=>d,k$:()=>l,m_:()=>s});var a=r(95155);r(12115);var n=r(83921),i=r(25384);function o(t){let{delayDuration:e=0,...r}=t;return(0,a.jsx)(n.Kq,{"data-slot":"tooltip-provider",delayDuration:e,...r})}function s(t){let{delayDuration:e=0,...r}=t;return(0,a.jsx)(o,{delayDuration:e,children:(0,a.jsx)(n.bL,{"data-slot":"tooltip",...r})})}function l(t){let{...e}=t;return(0,a.jsx)(n.l9,{"data-slot":"tooltip-trigger",...e})}function d(t){let{className:e,sideOffset:r=0,children:o,...s}=t;return(0,a.jsx)(n.ZL,{children:(0,a.jsxs)(n.UC,{"data-slot":"tooltip-content",sideOffset:r,className:(0,i.cn)("bg-background text-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...s,children:[o,(0,a.jsx)(n.i3,{className:"bg-background fill-background z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}},91311:(t,e,r)=>{r.d(e,{s:()=>n});let a="https://auth.tensamin.methanium.net",n={username_to_uuid:a+"/api/get/uuid/",user:a+"/api/get/",change:a+"/api/change/",tos:"https://docs.tensamin.methanium.net/legal/terms-of-service",pp:"https://docs.tensamin.methanium.net/legal/privacy-policy",client_wss:"wss://tensamin.methanium.net/ws/client/",call_wss:"wss://tensamin.methanium.net/ws/call/",webauthn_register_options:a+"/api/register/options/",webauthn_register_verify:a+"/api/register/verify/",webauthn_login_options:a+"/api/login/options/",webauthn_login_verify:a+"/api/login/verify/"}}}]);